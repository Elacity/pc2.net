import{i as me,u as ge}from"./chunk-QXMKCDWX-tTu6dVg-.js";import{i as ve,P as Ce}from"./chunk-QH6JFFQS-DGbtEJzl.js";import{_ as m,n as t,w as V,i as we,c as be,N as ye,e as je,S as _e,g as W,bX as O,B as Se,u as K,j as Ee,bY as X,T as Ie,Q as ke,m as Re,O as Pe,r as d,D as Me,s as Ve,a4 as $,v as a}from"./index-Ckjs8HlD.js";var D,Q,Le=m({"src/assets/icons/PhoneIcon.tsx"(){D=({color:i="var(--pcm-accent-color)",...c})=>t.jsxs(V.svg,{width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c,children:[t.jsxs("g",{clipPath:"url(#clip0_0_22828)",children:[t.jsx("path",{opacity:"0.15",d:"M30.5 0.399902C47.1238 0.399902 60.6 13.8761 60.6 30.4999C60.6 47.1237 47.1238 60.5999 30.5 60.5999C13.8763 60.5999 0.400024 47.1237 0.400024 30.4999C0.400024 13.8761 13.8763 0.399902 30.5 0.399902V0.399902Z",fill:i}),t.jsx("g",{clipPath:"url(#clip1_0_22828)",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.6574 43.4989C40.8858 43.0112 41 42.4837 41 41.9166V19.1175C41 18.5503 40.8858 18.0172 40.6574 17.5181C40.429 17.019 40.115 16.5823 39.7153 16.208C39.3157 15.8337 38.8475 15.5388 38.3108 15.3233C37.7741 15.1078 37.1974 15 36.5807 15H24.4192C23.8026 15 23.2259 15.1078 22.6892 15.3233C22.1526 15.5388 21.6843 15.8337 21.2847 16.208C20.885 16.5823 20.571 17.019 20.3426 17.5181C20.1142 18.0172 20 18.5503 20 19.1175V41.9166C20 42.4837 20.1142 43.0112 20.3426 43.4989C20.571 43.9866 20.885 44.4177 21.2847 44.792C21.6843 45.1663 22.1526 45.4612 22.6892 45.6767C23.2259 45.8922 23.8026 46 24.4192 46H36.5807C37.1974 46 37.7741 45.8922 38.3108 45.6767C38.8475 45.4612 39.3156 45.1663 39.7153 44.792C40.115 44.4177 40.429 43.9866 40.6574 43.4989ZM22.7406 20.7508H38.2251V40.2492H22.7406V20.7508ZM30.4829 41.202C30.0033 41.202 29.5864 41.3721 29.2325 41.7124C28.8785 42.0527 28.7015 42.4724 28.7015 42.9715C28.7015 43.4479 28.8785 43.8619 29.2325 44.2135C29.5864 44.5651 30.0033 44.7409 30.4829 44.7409C30.9853 44.7409 31.4078 44.5651 31.7504 44.2135C32.093 43.8619 32.2643 43.4479 32.2643 42.9715C32.2643 42.4724 32.093 42.0527 31.7504 41.7124C31.4078 41.3721 30.9853 41.202 30.4829 41.202ZM33.0522 17.433C33.1664 17.5351 33.2235 17.6769 33.2235 17.8584C33.2235 18.0399 33.1664 18.1817 33.0522 18.2838C32.938 18.3858 32.8124 18.4369 32.6754 18.4369H28.3246C28.1876 18.4369 28.062 18.3858 27.9478 18.2838C27.8336 18.1817 27.7765 18.0399 27.7765 17.8584C27.7765 17.6769 27.8393 17.5351 27.9649 17.433C28.0905 17.331 28.2104 17.2799 28.3246 17.2799H32.6754C32.8124 17.2799 32.938 17.331 33.0522 17.433Z",fill:i})})]}),t.jsxs("defs",{children:[t.jsx("clipPath",{id:"clip0_0_22828",children:t.jsx("rect",{width:"60.2",height:"60.2",fill:"white",transform:"translate(0.400024 0.399902)"})}),t.jsx("clipPath",{id:"clip1_0_22828",children:t.jsx("rect",{width:"21",height:"31",fill:"white",transform:"translate(20 15)"})})]})]}),Q=D}}),Z,U,Te=m({"src/assets/icons/EmailIcon.tsx"(){Z=({color:i="var(--pcm-accent-color)",...c})=>t.jsxs(V.svg,{width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c,children:[t.jsxs("g",{clipPath:"url(#clip0_0_22587)",children:[t.jsx("path",{opacity:"0.15",d:"M30.1 0C46.7238 0 60.2 13.4762 60.2 30.1C60.2 46.7238 46.7238 60.2 30.1 60.2C13.4762 60.2 0 46.7238 0 30.1C0 13.4762 13.4762 0 30.1 0V0Z",fill:i}),t.jsx("g",{clipPath:"url(#clip1_0_22587)",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.9671 19.6H18.2846C16.8359 19.6 15.6573 20.7498 15.6573 22.1626V22.6978L27.1859 33.9303C27.9722 34.6944 29.0176 35.1161 30.1277 35.1161C31.2397 35.1161 32.2851 34.6944 33.0695 33.9303L44.6 22.6978V22.1626C44.6 20.7498 43.4158 19.6 41.9671 19.6ZM15.6 24.4566V36.2153L21.898 30.5928L15.6 24.4566ZM44.5445 36.1811L44.5445 24.4566L38.263 30.5766L44.5445 36.1811ZM33.9428 34.7826C32.9186 35.786 31.5249 36.3485 30.0722 36.3451C28.6106 36.3451 27.234 35.7899 26.1998 34.7826L22.8305 31.4992L15.6 37.9543V39.0355C15.6 40.4502 16.7804 41.6 18.231 41.6H41.9135C43.364 41.6 44.5445 40.4502 44.5445 39.0374V37.9201L37.3306 31.483L33.9447 34.7808L33.9428 34.7826Z",fill:i})})]}),t.jsxs("defs",{children:[t.jsx("clipPath",{id:"clip0_0_22587",children:t.jsx("rect",{width:"60.2",height:"60.2",fill:"white"})}),t.jsx("clipPath",{id:"clip1_0_22587",children:t.jsx("rect",{width:"29",height:"22.0001",fill:"white",transform:"translate(15.6 19.6)"})})]})]}),U=Z}}),Y,q,G,J,$e=m({"src/components/codeInput/styles.ts"(){Y=a.div`
  width: 100%;
  max-width: 340px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  display: inline-block;
  margin: auto;
  width: auto;
  position: relative;
  left: 50%;
  transform: translateX(-50%);
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    box-shadow: 0 0 0 60px var(--pcm-body-background) inset !important;
    -webkit-text-fill-color: var(--pcm-body-color) !important;
  }
`,q=a.div`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 1;
  cursor: pointer;
`,G=a.input`
  width: 42px;
  height: 42px;
  padding: 0;
  margin-right: 5px;
  margin-left: 5px;
  border: transparent;
  border-radius: var(--pcm-rounded-md);
  font-size: 20px;
  text-align: center;
  text-transform: uppercase;
  background-clip: padding-box;
  caret-color: var(--pcm-primary-color);
  color: ${({error:i})=>i?"var(--pcm-error-color)":"var(--pcm-body-color)"};
  background-color: ${({error:i})=>i?"var(--pcm-error-background)":"var(--pcm-body-background-secondary)"};

  border: none;
  &:focus,
  &:active,
  &:hover,
  &:visited,
  &:focus-visible {
    appearance: none;
    outline: none !important;
    border: none !important;
  }

  &:not(:placeholder-shown) {
    appearance: none;
    outline: 0;
  }
`,J=a.div`
  position: absolute;
  top: 0;
  opacity: ${({$showFocusBorder:i})=>i?1:0};
  left: ${({$focusIndex:i})=>5+i*52}px;
  width: 42px;
  height: 42px;
  border: 1px solid var(--pcm-accent-color);
  border-radius: var(--pcm-rounded-md);
  transition:
    left 0.3s ease,
    opacity 0.2s ease;
  pointer-events: none;
  z-index: 2;
`}}),A,H,z,ee,De=m({"src/components/codeInput/index.tsx"(){$e(),A=["alpha","numeric","alphanumeric"],H={alpha:{type:"text",inputMode:"text",pattern:"[a-zA-Z]{1}"},alphanumeric:{type:"text",inputMode:"text",pattern:"[a-zA-Z0-9]{1}"},numeric:{type:"tel",inputMode:"numeric",pattern:"[0-9]{1}",min:"0",max:"9"}},z=d.forwardRef(({allowedCharacters:i="alphanumeric",ariaLabel:c,autoFocus:s=!0,disabled:g,isPassword:b=!1,length:v=6,placeholder:C,onChange:y,code:u="",error:j=""},_)=>{if(isNaN(v)||v<1)throw new Error("Length should be a number and greater than 0");if(!A.some(r=>r===i))throw new Error("Invalid value for allowedCharacters. Use alpha, numeric, or alphanumeric");const[S,p]=$.useState(0),[k,M]=$.useState(!1),n=d.useRef([]),E=H[i],h=d.useRef(null);d.useImperativeHandle(_,()=>({focus:()=>{var r;n.current&&((r=n.current[0])==null||r.focus())},clear:()=>{var r;if(n.current){for(let e=0;e<n.current.length;e++)(r=n.current)!=null&&r[e]&&(n.current[e].value="");n.current[0].focus()}o()}})),d.useEffect(()=>{var r;if(u){for(let e=0;e<n.current.length;e++)n.current[e].value="";for(let e=0;e<u.length;e++)(r=n.current)!=null&&r[e]&&(n.current[e].value=u[e]||"");o()}},[u]);let I=n.current.map(r=>r.value).join("")||"";const o=()=>{const r=n.current.map(e=>e.value).join("");I!==r&&(r.length===6&&setTimeout(()=>{n.current.forEach(e=>{e.blur()})},400),y&&y(r),I=r)},f=r=>{var w;const{target:{value:e,nextElementSibling:l}}=r;if(e.length==1)e.match(E.pattern)?l!==null&&l.focus():r.target.value="";else if(e.length>1){const R=e;let x=Number(r.target.getAttribute("data-index"))||0;for(let P=0;P<R.length;P++){const T=R.charAt(P);T.match(E.pattern)&&((w=n.current)!=null&&w[x])&&(n.current[x].value=T,n.current[x].nextElementSibling!==null&&(n.current[x].nextElementSibling.focus(),x++))}}setTimeout(()=>{o()})},he=r=>{const{key:e}=r,l=r.target;if(e==="Backspace"){if(l.value===""){if(l.previousElementSibling!==null){const w=l.previousElementSibling;w.value="",w.focus(),r.preventDefault()}}else l.value="";setTimeout(()=>{o()})}},fe=r=>{r.target.select()},xe=r=>{let e=r.clipboardData.getData("Text")??"";e=e.replace(/\s/g,"").substring(0,6);let l=S;for(let w=0;w<e.length;w++){const R=e.charAt(w),x=n.current[l];if(!x)break;const P=x==null?void 0:x.value;R.match(E.pattern)&&(P||(n.current[l].value=R,n.current[l].nextElementSibling!==null&&(n.current[l].nextElementSibling.focus(),l++)))}o(),r.preventDefault()};return t.jsxs(Y,{ref:h,children:[t.jsx(J,{$focusIndex:S,$showFocusBorder:k}),new Array(6).fill(0).map((r,e)=>t.jsx(G,{"data-index":e,onChange:f,onKeyDown:he,onFocus:l=>{M(!0),p(e),fe(l)},autoFocus:s&&e===0,onBlur:()=>{M(!1)},onPaste:xe,...E,type:b?"password":E.type,ref:l=>{n.current[e]=l},autoComplete:e===0?"one-time-code":"off","aria-label":c?`${c}. Character ${e+1}.`:`Character ${e+1}.`,disabled:g,placeholder:C,error:j},e)),t.jsx(q,{onClick:r=>{r.preventDefault(),r.stopPropagation();for(let e=n.current.length-1;e>=0;e--)if(e>0&&!n.current[e].value&&n.current[e-1].value||e===0&&!n.current[e].value||e==n.current.length-1&&n.current[e].value){n.current[e].focus(),n.current[e].setSelectionRange(n.current[e].value.length,n.current[e].value.length);break}}})]})}),ee=z}}),te,ne,Ze=m({"src/components/loadingSpinner/styles.ts"(){te=a(V.div)`
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
`,ne=a(V.div)`
  box-sizing: border-box;
  display: block;
  position: absolute;
  width: ${i=>i.width};
  height: ${i=>i.height};
  margin: 6px;
  border-style: solid;
  border-radius: 50%;
  animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
`}}),F,re,Ae=m({"src/components/loadingSpinner/index.tsx"(){Ze(),F=({size:i="50%",borderColor:c="#a748ff",borderWidth:s=3,spin:g=!1,children:b})=>t.jsxs(te,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[g&&t.jsx(t.Fragment,{children:[...Array(4)].map((v,C)=>t.jsx(ne,{width:i,height:i,style:{animationDelay:`-${C*.15}s`,borderWidth:s,borderColor:`${c} transparent transparent transparent`}},C))}),t.jsx("div",{style:{opacity:g?.05:1},children:b})]}),re=F}}),ie,ae,He=m({"src/components/reSend/styles.ts"(){ie=a.div`
  text-align: center;
  margin-top: 40px;
  color: var(--pcm-body-color-secondary);
  font-size: 14px;
`,ae=a.div`
  color: var(--pcm-accent-color);
  margin-top: 6px;
  cursor: ${({$pointer:i})=>i?"pointer":"default"};
  display: flex;
  gap: 0px;
  align-items: center;
  width: 100%;
  justify-content: center;
  position: relative;
  height: 24px;
`}}),L,B,oe,ze=m({"src/components/reSend/index.tsx"(){W(),O(),Ae(),He(),L=60,B=({reSendCode:i})=>{const c=K(),[s,g]=d.useState(0),{showError:b}=X(),[v,C]=d.useState(L),[y,u]=d.useState(!1),j=d.useRef(null),_=()=>{C(L),g(1),j.current=setInterval(()=>{C(p=>{const k=p-1;return k===0&&(g(2),clearInterval(j.current)),k})},1e3)},S=async()=>{try{if(y)return;u(!0),s===2&&(await i(),_())}catch(p){b((p==null?void 0:p.message)||"")}setTimeout(()=>{u(!1)},100)};return d.useEffect(()=>(_(),()=>{clearInterval(j.current)}),[]),t.jsx(ie,{children:s!==0&&t.jsxs("div",{children:[c.didNotReceiveCode,t.jsx(ae,{$pointer:s===2,children:s===1||s===3?`${v} s`:s===2?t.jsxs(t.Fragment,{children:[y&&t.jsx("div",{style:{width:"24px",height:"24px",top:"1px",position:"relative"},children:t.jsx(re,{spin:!0,borderWidth:2})}),t.jsx("div",{onClick:S,children:c.resendCode})]}):""})]})})},oe=B}}),se,le,ce,pe,de,ue,Fe=m({"src/pages/captcha/styles.ts"(){se=a.div`
  position: relative;
  padding-top: 10px;
`,a.div`
  position: relative;
  width: 96%;
  left: 2%;
  top: 0;
  margin-bottom: 30px;
`,a.div`
  background: var(--pcm-error-background);
  border-radius: 28px;
  line-height: 1;
  display: flex;
  align-items: center;
  color: var(--pcm-error-color);
  padding: 8px 8px;
  line-height: 1.2;
  display: flex;
`,a.div`
  min-width: 20px;
  width: 20px;
`,a.div`
  flex: 1;
  font-size: 12px;
`,le=a.div`
  font-size: 14px;
`,ce=a.div`
  font-size: 14px;
  font-weight: bold;
  margin-top: 4px;
`,pe=a.div`
  margin: auto;
  display: flex;
  justify-content: center;
  margin-bottom: 30px;
  height: 80px;
  position: relative;
`,de=a.div`
  text-align: center;
  margin-bottom: 30px;
`,ue=a.div`
  position: relative;
  width: 70px;
  height: 70px;
  display: flex;
  justify-content: center;
  align-items: center;
`,a.div`
  display: inline-block;
  animation: spin 1.2s linear infinite;
  position: absolute;
  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`}}),N,Be,Ne=m({"src/pages/captcha/index.tsx"(){Te(),Le(),we(),De(),ve(),ze(),be(),ye(),je(),_e(),W(),O(),Se(),me(),Fe(),N=({value:i,type:c})=>{const s=K(),{config:g}=Ee(),{error:b,showError:v}=X(),C=Ie(ke(g.chains[0])?"particleEVM":"particleSolana"),{connectAsync:y}=Re(),{appearance:u}=Pe(),[j,_]=d.useState(!1),S=d.useRef(null),p=ge("particleAuth"),{navigate:k}=Me(),M=async h=>{await y({connector:C,authParams:h})},n=async h=>{var I;try{if(j)return;if(h.length===6){if(/![^0-9]/.test(h))throw new Error(s.incorrectCode);{_(!0);const o={code:h,...c==="phone"?{phone:i}:{email:i}};if(o.code){if(!o.phone&&!o.email)throw new Error("Please enter the phone number or email")}else throw new Error("Please enter the verification code");await M(o)}}else v("")}catch(o){let f=((I=o==null?void 0:o.extra)==null?void 0:I[0])||o.message||(typeof o=="string"?o:s.networkError);f.includes("Invalid code")?f=s.invalidCode:f.includes("Code is deleted")?f=s.codeDeleted:f.includes("Network Error")&&(f=s.networkError),o.code===4011?(k("signup"),setTimeout(()=>v(f))):v(f)}_(!1)},E=async()=>{let h="";c==="phone"&&(h=await(p==null?void 0:p.auth.getCloudflareTurnstileResponse({theme:u.mode||"lgiht",language:u.language||"en",getContainer:S.current})));const I=c==="phone"?{phone:i,cf_turnstile_response:h}:{email:i};await(p==null?void 0:p.auth.getConnectCaptcha(I))};return t.jsx(Ce,{style:{padding:"12px 2px 8px"},children:t.jsxs(se,{ref:S,children:[t.jsx(pe,{children:t.jsx(Ve,{width:70,height:70,inset:2,logo:t.jsx(ue,{children:c==="phone"?t.jsx(Q,{}):t.jsx(U,{})})})}),t.jsxs(de,{children:[t.jsx(le,{children:s.verificationCode}),t.jsx(ce,{children:i})]}),t.jsx(ee,{allowedCharacters:"numeric",length:6,placeholder:" ",onChange:n,error:b||""}),t.jsx(oe,{reSendCode:E})]})})},Be=N}});Ne();export{Be as default};
