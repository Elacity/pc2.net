var z=Object.defineProperty;var Z=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var u=(e,t,r)=>Z(e,typeof t!="symbol"?t+"":t,r);class D{constructor(t){u(this,"method");u(this,"protocol");u(this,"hostname");u(this,"port");u(this,"path");u(this,"query");u(this,"headers");u(this,"username");u(this,"password");u(this,"fragment");u(this,"body");this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const r=new D({...t,headers:{...t.headers}});return r.query&&(r.query=Q(r.query)),r}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return D.clone(this)}}function Q(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class H{constructor(t){u(this,"statusCode");u(this,"reason");u(this,"headers");u(this,"body");this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}const Fe=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=Object.entries(W).reduce((e,[t,r])=>(e[r]=Number(t),e),{}),K=W.split(""),b=6,$=8,v=63,ee=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let o=0;o<e.length;o+=4){let i=0,c=0;for(let s=o,f=o+3;s<=f;s++)if(e[s]!=="="){if(!(e[s]in O))throw new TypeError(`Invalid character ${e[s]} in base64 string.`);i|=O[e[s]]<<(f-s)*b,c+=b}else i>>=b;const a=o/4*3;i>>=c%$;const d=Math.floor(c/$);for(let s=0;s<d;s++){const f=(d-s-1)*$;n.setUint8(a+s,(i&255<<f)>>f)}}return new Uint8Array(r)},te=e=>new TextEncoder().encode(e),Ne=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function Le(e){let t;typeof e=="string"?t=te(e):t=e;const r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let i=0;i<t.length;i+=3){let c=0,a=0;for(let s=i,f=Math.min(i+3,t.length);s<f;s++)c|=t[s]<<(f-s-1)*$,a+=$;const d=Math.ceil(a/b);c<<=d*b-a;for(let s=1;s<=d;s++){const f=(d-s)*b;o+=K[(c&v<<f)>>f]}o+="==".slice(0,4-d)}return o}const I=e=>encodeURIComponent(e).replace(/[!'()*]/g,re),re=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function ne(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=I(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${I(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${I(n)}`),t.push(o)}}return t.join("&")}function j(e,t){return new Request(e,t)}function oe(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const R={supported:void 0};class q{constructor(t){u(this,"config");u(this,"configProvider");typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),R.supported===void 0&&(R.supported=typeof Request<"u"&&"keepalive"in j("https://[::1]"))}static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new q(t)}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){var k;this.config||(this.config=await this.configProvider);const o=n??this.config.requestTimeout,i=this.config.keepAlive===!0,c=this.config.credentials;if(r!=null&&r.aborted){const h=new Error("Request aborted");return h.name="AbortError",Promise.reject(h)}let a=t.path;const d=ne(t.query||{});d&&(a+=`?${d}`),t.fragment&&(a+=`#${t.fragment}`);let s="";if(t.username!=null||t.password!=null){const h=t.username??"",E=t.password??"";s=`${h}:${E}@`}const{port:f,method:m}=t,T=`${t.protocol}//${s}${t.hostname}${f?`:${f}`:""}${a}`,x=m==="GET"||m==="HEAD"?void 0:t.body,l={body:x,headers:new Headers(t.headers),method:m,credentials:c};(k=this.config)!=null&&k.cache&&(l.cache=this.config.cache),x&&(l.duplex="half"),typeof AbortController<"u"&&(l.signal=r),R.supported&&(l.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(l,this.config.requestInit(t));let B=()=>{};const X=j(T,l),P=[fetch(X).then(h=>{const E=h.headers,g={};for(const A of E.entries())g[A[0]]=A[1];return h.body!=null?{response:new H({headers:g,reason:h.statusText,statusCode:h.status,body:h.body})}:h.blob().then(A=>({response:new H({headers:g,reason:h.statusText,statusCode:h.status,body:A})}))}),oe(o)];return r&&P.push(new Promise((h,E)=>{const g=()=>{const p=new Error("Request aborted");p.name="AbortError",E(p)};if(typeof r.addEventListener=="function"){const p=r;p.addEventListener("abort",g,{once:!0}),B=()=>p.removeEventListener("abort",g)}else r.onabort=g})),Promise.race(P).finally(B)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const Be=async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):se(e):ie(e)};async function se(e){const t=await ce(e),r=ee(t);return new Uint8Array(r)}async function ie(e){const t=[],r=e.getReader();let n=!1,o=0;for(;!n;){const{done:a,value:d}=await r.read();d&&(t.push(d),o+=d.length),n=a}const i=new Uint8Array(o);let c=0;for(const a of t)i.set(a,c),c+=a.length;return i}function ce(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const o=n.result??"",i=o.indexOf(","),c=i>-1?i+1:o.length;t(o.substring(c))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const G={},F={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),G[e]=t,F[t]=e}function Pe(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in F)t[r/2]=F[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function ke(e){let t="";for(let r=0;r<e.byteLength;r++)t+=G[e[r]];return t}const N=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ge.warn(me(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},ae=Math.ceil(2**127*(2-2**-23)),_=e=>{const t=N(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>ae)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},de=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},J=e=>V(e,16),Y=e=>V(e,8),V=(e,t)=>{const r=de(e);if(r!==void 0&&fe(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},fe=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ue=e=>N(typeof e=="string"?M(e):e),he=e=>_(typeof e=="string"?M(e):e),le=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,M=e=>{const t=e.match(le);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},C=e=>J(typeof e=="string"?M(e):e),ye=e=>Y(typeof e=="string"?M(e):e),me=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ge={warn:console.warn},pe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function He(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),c=e.getUTCMinutes(),a=e.getUTCSeconds(),d=o<10?`0${o}`:`${o}`,s=i<10?`0${i}`:`${i}`,f=c<10?`0${c}`:`${c}`,m=a<10?`0${a}`:`${a}`;return`${pe[n]}, ${d} ${L[r]} ${t} ${s}:${f}:${m} GMT`}const be=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Oe=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=be.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,c,a,d,s]=t,f=C(w(n)),m=y(o,"month",1,12),T=y(i,"day",1,31);return S(f,m,T,{hours:c,minutes:a,seconds:d,fractionalMilliseconds:s})},we=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),je=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=we.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,c,a,d,s,f]=t,m=C(w(n)),T=y(o,"month",1,12),x=y(i,"day",1,31),l=S(m,T,x,{hours:c,minutes:a,seconds:d,fractionalMilliseconds:s});return f.toUpperCase()!="Z"&&l.setTime(l.getTime()-Ue(f)),l},Te=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ee=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),$e=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),_e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Te.exec(e);if(t){const[r,n,o,i,c,a,d,s]=t;return S(C(w(i)),U(o),y(n,"day",1,31),{hours:c,minutes:a,seconds:d,fractionalMilliseconds:s})}if(t=Ee.exec(e),t){const[r,n,o,i,c,a,d,s]=t;return xe(S(Se(i),U(o),y(n,"day",1,31),{hours:c,minutes:a,seconds:d,fractionalMilliseconds:s}))}if(t=$e.exec(e),t){const[r,n,o,i,c,a,d,s]=t;return S(C(w(s)),U(n),y(o.trimLeft(),"day",1,31),{hours:i,minutes:c,seconds:a,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},Je=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ue(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},S=(e,t,r,n)=>{const o=t-1;return Me(e,o,r),new Date(Date.UTC(e,o,r,y(n.hours,"hour",0,23),y(n.minutes,"minute",0,59),y(n.seconds,"seconds",0,60),Re(n.fractionalMilliseconds)))},Se=e=>{const t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+C(w(e));return r<t?r+100:r},Ce=50*365*24*60*60*1e3,xe=e=>e.getTime()-new Date().getTime()>Ce?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,U=e=>{const t=L.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},Ae=[31,28,31,30,31,30,31,31,30,31,30,31],Me=(e,t,r)=>{let n=Ae[t];if(t===1&&Ie(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${L[t]} in ${e}: ${r}`)},Ie=e=>e%4===0&&(e%100!==0||e%400===0),y=(e,t,r,n)=>{const o=ye(w(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},Re=e=>e==null?0:he("0."+e)*1e3,Ue=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},w=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};export{q as F,D as H,ee as a,_e as b,je as c,Le as d,He as e,te as f,ke as g,Oe as h,H as i,Pe as j,I as k,Fe as n,Je as p,Be as s,Ne as t};
