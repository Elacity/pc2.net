var Ze=Object.defineProperty;var Ye=(e,o,s)=>o in e?Ze(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s;var S=(e,o,s)=>Ye(e,typeof o!="symbol"?o+"":o,s);import{a5 as et,b as v,e as ye,L as tt,N as fe,S as Se,v as st,f as rt,R as nt,P as ot,h as it,c as se,T as I,r as at,n as ge,i as ct,E as dt,j as lt,k as ut,l as mt,p as pt,m as ht,A as yt,o as ft,q as St,D as gt,t as Et,u as Pt,w as bt,x as Tt,y as wt,z as xt,B as At,F as Rt,G as Ct,H as It,I as Dt,J as _t,K as Nt,a as kt,M as vt,O as $t,Q as Mt,U as Ft,a2 as Ot,V as Ut,W as zt,X as Lt,Y as jt,Z as Wt,_ as Kt,$ as Ht,a0 as Vt,a3 as Bt,a1 as Qt,a4 as qt,C as Gt,g as Jt}from"./index-0WOywdMm.js";import{a as B,t as Q,d as Ee,e as Xt,f as Zt,s as Yt,F as es}from"./date-utils-pKr_beww.js";import{N as ts}from"./noAuth-BRTlyyWt.js";function re(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(o){return"%"+o.charCodeAt(0).toString(16).toUpperCase()})}const q="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",G="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",J="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Pe="(\\d?\\d)",be="(\\d{4})",ss=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),rs=new RegExp(`^${q}, ${Pe} ${G} ${be} ${J} GMT$`),ns=new RegExp(`^${q}, ${Pe}-${G}-(\\d\\d) ${J} GMT$`),os=new RegExp(`^${q} ${G} ( [1-9]|\\d\\d) ${J} ${be}$`),is=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],as=e=>{if(e==null)return;let o=NaN;if(typeof e=="number")o=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");o=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(o=e.value);if(isNaN(o)||Math.abs(o)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(o*1e3))},cs=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");const o=ss.exec(e);if(!o)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);const[,s,t,r,n,i,a,,d,u]=o;C(t,1,12),C(r,1,31),C(n,0,23),C(i,0,59),C(a,0,60);const c=new Date(Date.UTC(Number(s),Number(t)-1,Number(r),Number(n),Number(i),Number(a),Number(d)?Math.round(parseFloat(`0.${d}`)*1e3):0));if(c.setUTCFullYear(Number(s)),u.toUpperCase()!="Z"){const[,m,p,T]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],x=m==="-"?1:-1;c.setTime(c.getTime()+x*(Number(p)*60*60*1e3+Number(T)*60*1e3))}return c},ds=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let o,s,t,r,n,i,a,d;if((d=rs.exec(e))?[,o,s,t,r,n,i,a]=d:(d=ns.exec(e))?([,o,s,t,r,n,i,a]=d,t=(Number(t)+1900).toString()):(d=os.exec(e))&&([,s,o,r,n,i,a,t]=d),t&&i){const u=Date.UTC(Number(t),is.indexOf(s),Number(o),Number(r),Number(n),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);C(o,1,31),C(r,0,23),C(n,0,59),C(i,0,60);const c=new Date(u);return c.setUTCFullYear(Number(t)),c}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)};function C(e,o,s){const t=Number(e);if(t<o||t>s)throw new Error(`Value ${t} out of range [${o}, ${s}]`)}const ls=e=>{const o=e.length,s=[];let t=!1,r,n=0;for(let i=0;i<o;++i){const a=e[i];switch(a){case'"':r!=="\\"&&(t=!t);break;case",":t||(s.push(e.slice(n,i)),n=i+1);break}r=a}return s.push(e.slice(n)),s.map(i=>{i=i.trim();const a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})};class us extends et{constructor(s){super();S(this,"settings");this.settings=s}read(s,t){var n;const r=v.of(s);if(r.isListSchema())return ls(t).map(i=>this.read(r.getValueSchema(),i));if(r.isBlobSchema())return(((n=this.serdeContext)==null?void 0:n.base64Decoder)??B)(t);if(r.isTimestampSchema())switch(ye(r,this.settings)){case 5:return cs(t);case 6:return ds(t);case 7:return as(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(r.isStringSchema()){const i=r.getMergedTraits().mediaType;let a=t;if(i)return r.getMergedTraits().httpHeader&&(a=this.base64ToUtf8(a)),(i==="application/json"||i.endsWith("+json"))&&(a=tt.from(a)),a}return r.isNumericSchema()?Number(t):r.isBigIntegerSchema()?BigInt(t):r.isBigDecimalSchema()?new fe(t,"bigDecimal"):r.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(s){var t,r;return(((t=this.serdeContext)==null?void 0:t.utf8Encoder)??Q)((((r=this.serdeContext)==null?void 0:r.base64Decoder)??B)(s))}}const Te=e=>{const o="#text";for(const s in e)e.hasOwnProperty(s)&&e[s][o]!==void 0?e[s]=e[s][o]:typeof e[s]=="object"&&e[s]!==null&&(e[s]=Te(e[s]));return e};let K;function ms(e){K||(K=new DOMParser);const o=K.parseFromString(e,"application/xml");if(o.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const s=t=>{var r;if(t.nodeType===Node.TEXT_NODE&&(r=t.textContent)!=null&&r.trim())return t.textContent;if(t.nodeType===Node.ELEMENT_NODE){const n=t;if(n.attributes.length===0&&n.childNodes.length===0)return"";const i={},a=Array.from(n.attributes);for(const u of a)i[`${u.name}`]=u.value;const d=Array.from(n.childNodes);for(const u of d){const c=s(u);if(c!=null){const m=u.nodeName;if(d.length===1&&a.length===0&&m==="#text")return c;i[m]?Array.isArray(i[m])?i[m].push(c):i[m]=[i[m],c]:i[m]=c}else if(d.length===1&&a.length===0)return n.textContent}return i}return null};return{[o.documentElement.nodeName]:s(o.documentElement)}}class ps extends Se{constructor(s){super();S(this,"settings");S(this,"stringDeserializer");this.settings=s,this.stringDeserializer=new us(s)}setSerdeContext(s){this.serdeContext=s,this.stringDeserializer.setSerdeContext(s)}read(s,t,r){var c;const n=v.of(s),i=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(i).find(m=>!!m.getMemberTraits().eventPayload)){const m={},p=Object.keys(i)[0];return i[p].isBlobSchema()?m[p]=t:m[p]=this.read(i[p],t),m}const d=(((c=this.serdeContext)==null?void 0:c.utf8Encoder)??Q)(t),u=this.parseXml(d);return this.readSchema(s,r?u[r]:u)}readSchema(s,t){const r=v.of(s);if(r.isUnitSchema())return;const n=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(t))return this.readSchema(r,[t]);if(t==null)return t;if(typeof t=="object"){const i=!!n.sparse,a=!!n.xmlFlattened;if(r.isListSchema()){const u=r.getValueSchema(),c=[],m=u.getMergedTraits().xmlName??"member",p=a?t:(t[0]??t)[m],T=Array.isArray(p)?p:[p];for(const x of T)(x!=null||i)&&c.push(this.readSchema(u,x));return c}const d={};if(r.isMapSchema()){const u=r.getKeySchema(),c=r.getValueSchema();let m;a?m=Array.isArray(t)?t:[t]:m=Array.isArray(t.entry)?t.entry:[t.entry];const p=u.getMergedTraits().xmlName??"key",T=c.getMergedTraits().xmlName??"value";for(const x of m){const k=x[p],A=x[T];(A!=null||i)&&(d[k]=this.readSchema(c,A))}return d}if(r.isStructSchema()){for(const[u,c]of r.structIterator()){const m=c.getMergedTraits(),p=m.httpPayload?m.xmlName??c.getName():c.getMemberTraits().xmlName??u;t[p]!=null&&(d[u]=this.readSchema(c,t[p]))}return d}if(r.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,t)}parseXml(s){if(s.length){let t;try{t=ms(s)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:s}),a}const r="#text",n=Object.keys(t)[0],i=t[n];return i[r]&&(i[n]=i[r],delete i[r]),Te(i)}return{}}}class hs extends Se{constructor(s){super();S(this,"settings");S(this,"buffer");this.settings=s}write(s,t,r=""){var i;this.buffer===void 0&&(this.buffer="");const n=v.of(s);if(r&&!r.endsWith(".")&&(r+="."),n.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((((i=this.serdeContext)==null?void 0:i.base64Encoder)??Ee)(t)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())t!=null?(this.writeKey(r),this.writeValue(String(t))):n.isIdempotencyToken()&&(this.writeKey(r),this.writeValue(st()));else if(n.isBigIntegerSchema())t!=null&&(this.writeKey(r),this.writeValue(String(t)));else if(n.isBigDecimalSchema())t!=null&&(this.writeKey(r),this.writeValue(t instanceof fe?t.string:String(t)));else if(n.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(r),ye(n,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(Xt(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(n.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${n.getName(!0)}`);if(n.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{const a=n.getValueSchema(),d=this.settings.flattenLists||n.getMergedTraits().xmlFlattened;let u=1;for(const c of t){if(c==null)continue;const m=this.getKey("member",a.getMergedTraits().xmlName),p=d?`${r}${u}`:`${r}${m}.${u}`;this.write(a,c,p),++u}}}else if(n.isMapSchema()){if(t&&typeof t=="object"){const a=n.getKeySchema(),d=n.getValueSchema(),u=n.getMergedTraits().xmlFlattened;let c=1;for(const[m,p]of Object.entries(t)){if(p==null)continue;const T=this.getKey("key",a.getMergedTraits().xmlName),x=u?`${r}${c}.${T}`:`${r}entry.${c}.${T}`,k=this.getKey("value",d.getMergedTraits().xmlName),A=u?`${r}${c}.${k}`:`${r}entry.${c}.${k}`;this.write(a,m,x),this.write(d,p,A),++c}}}else if(n.isStructSchema()){if(t&&typeof t=="object")for(const[a,d]of rt(n,t)){if(t[a]==null&&!d.isIdempotencyToken())continue;const u=this.getKey(a,d.getMergedTraits().xmlName),c=`${r}${u}`;this.write(d,t[a],c)}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const s=this.buffer;return delete this.buffer,s}getKey(s,t){const r=t??s;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(s){s.endsWith(".")&&(s=s.slice(0,s.length-1)),this.buffer+=`&${re(s)}=`}writeValue(s){this.buffer+=re(s)}}class ys extends nt{constructor(s){super({defaultNamespace:s.defaultNamespace});S(this,"options");S(this,"serializer");S(this,"deserializer");S(this,"mixin",new ot);this.options=s;const t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:s.xmlNamespace,serviceNamespace:s.defaultNamespace,serializeEmptyLists:!0};this.serializer=new hs(t),this.deserializer=new ps(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(s){this.serializer.setSerdeContext(s),this.deserializer.setSerdeContext(s)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(s,t,r){const n=await super.serializeRequest(s,t,r);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(it(s.input)==="unit"||!n.body)&&(n.body="");const i=s.name.split("#")[1]??s.name;return n.body=`Action=${i}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(s,t,r){const n=this.deserializer,i=v.of(s.output),a={};if(r.statusCode>=300){const p=await se(r.body,t);p.byteLength>0&&Object.assign(a,await n.read(15,p)),await this.handleError(s,t,r,a,this.deserializeMetadata(r))}for(const p in r.headers){const T=r.headers[p];delete r.headers[p],r.headers[p.toLowerCase()]=T}const d=s.name.split("#")[1]??s.name,u=i.isStructSchema()&&this.useNestedResult()?d+"Result":void 0,c=await se(r.body,t);return c.byteLength>0&&Object.assign(a,await n.read(i,c,u)),{$metadata:this.deserializeMetadata(r),...a}}useNestedResult(){return!0}async handleError(s,t,r,n,i){const a=this.loadQueryErrorCode(r,n)??"Unknown",d=this.loadQueryError(n),u=this.loadQueryErrorMessage(n);d.message=u,d.Error={Type:d.Type,Code:d.Code,Message:u};const{errorSchema:c,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,r,d,i,(A,L)=>{try{return A.getSchema(L)}catch{return A.find(W=>{var te;return((te=v.of(W).getMergedTraits().awsQueryError)==null?void 0:te[0])===L})}}),p=v.of(c),T=I.for(c[1]).getErrorCtor(c)??Error,x=new T(u),k={Error:d.Error};for(const[A,L]of p.structIterator()){const j=L.getMergedTraits().xmlName??A,W=d[j]??n[j];k[A]=this.deserializer.readSchema(L,W)}throw this.mixin.decorateServiceException(Object.assign(x,m,{$fault:p.getMergedTraits().error,message:u},k),n)}loadQueryErrorCode(s,t){var n,i,a,d;const r=(d=((i=(n=t.Errors)==null?void 0:n[0])==null?void 0:i.Error)??((a=t.Errors)==null?void 0:a.Error)??t.Error)==null?void 0:d.Code;if(r!==void 0)return r;if(s.statusCode==404)return"NotFound"}loadQueryError(s){var t,r,n;return((r=(t=s.Errors)==null?void 0:t[0])==null?void 0:r.Error)??((n=s.Errors)==null?void 0:n.Error)??s.Error}loadQueryErrorMessage(s){const t=this.loadQueryError(s);return(t==null?void 0:t.message)??(t==null?void 0:t.Message)??s.message??s.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}const fs=async(e,o,s)=>({operation:ct(o).operation,region:await ge(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Ss(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(o,s)=>({signingProperties:{config:o,context:s}})}}function gs(e){return{schemeId:"smithy.api#noAuth"}}const Es=e=>{const o=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{o.push(gs());break}default:o.push(Ss(e))}return o},Ps=e=>Object.assign(e,{stsClientCtor:ve}),bs=e=>{const o=Ps(e),s=at(o);return Object.assign(s,{authSchemePreference:ge(e.authSchemePreference??[])})},Ts=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),ws={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},xs="3.943.0",As={version:xs},we="required",l="type",h="fn",y="argv",_="ref",ne=!1,H=!0,D="booleanEquals",E="stringEquals",xe="sigv4",Ae="sts",Re="us-east-1",g="endpoint",oe="https://sts.{Region}.{PartitionResult#dnsSuffix}",R="tree",z="error",X="getAttr",ie={[we]:!1,[l]:"string"},V={[we]:!0,default:!1,[l]:"boolean"},Ce={[_]:"Endpoint"},ae={[h]:"isSet",[y]:[{[_]:"Region"}]},P={[_]:"Region"},ce={[h]:"aws.partition",[y]:[P],assign:"PartitionResult"},Ie={[_]:"UseFIPS"},De={[_]:"UseDualStack"},b={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:xe,signingName:Ae,signingRegion:Re}]},headers:{}},w={},de={conditions:[{[h]:E,[y]:[P,"aws-global"]}],[g]:b,[l]:g},_e={[h]:D,[y]:[Ie,!0]},Ne={[h]:D,[y]:[De,!0]},le={[h]:X,[y]:[{[_]:"PartitionResult"},"supportsFIPS"]},ke={[_]:"PartitionResult"},ue={[h]:D,[y]:[!0,{[h]:X,[y]:[ke,"supportsDualStack"]}]},me=[{[h]:"isSet",[y]:[Ce]}],pe=[_e],he=[Ne],Rs={parameters:{Region:ie,UseDualStack:V,UseFIPS:V,Endpoint:ie,UseGlobalEndpoint:V},rules:[{conditions:[{[h]:D,[y]:[{[_]:"UseGlobalEndpoint"},H]},{[h]:"not",[y]:me},ae,ce,{[h]:D,[y]:[Ie,ne]},{[h]:D,[y]:[De,ne]}],rules:[{conditions:[{[h]:E,[y]:[P,"ap-northeast-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"ap-south-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"ap-southeast-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"ap-southeast-2"]}],endpoint:b,[l]:g},de,{conditions:[{[h]:E,[y]:[P,"ca-central-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"eu-central-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"eu-north-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"eu-west-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"eu-west-2"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"eu-west-3"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"sa-east-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,Re]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"us-east-2"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"us-west-1"]}],endpoint:b,[l]:g},{conditions:[{[h]:E,[y]:[P,"us-west-2"]}],endpoint:b,[l]:g},{endpoint:{url:oe,properties:{authSchemes:[{name:xe,signingName:Ae,signingRegion:"{Region}"}]},headers:w},[l]:g}],[l]:R},{conditions:me,rules:[{conditions:pe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[l]:z},{conditions:he,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[l]:z},{endpoint:{url:Ce,properties:w,headers:w},[l]:g}],[l]:R},{conditions:[ae],rules:[{conditions:[ce],rules:[{conditions:[_e,Ne],rules:[{conditions:[{[h]:D,[y]:[H,le]},ue],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:w,headers:w},[l]:g}],[l]:R},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[l]:z}],[l]:R},{conditions:pe,rules:[{conditions:[{[h]:D,[y]:[le,H]}],rules:[{conditions:[{[h]:E,[y]:[{[h]:X,[y]:[ke,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:w,headers:w},[l]:g},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:w,headers:w},[l]:g}],[l]:R},{error:"FIPS is enabled but this partition does not support FIPS",[l]:z}],[l]:R},{conditions:he,rules:[{conditions:[ue],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:w,headers:w},[l]:g}],[l]:R},{error:"DualStack is enabled but this partition does not support DualStack",[l]:z}],[l]:R},de,{endpoint:{url:oe,properties:w,headers:w},[l]:g}],[l]:R}],[l]:R},{error:"Invalid Configuration: Missing Region",[l]:z}]},Cs=Rs,Is=new dt({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Ds=(e,o={})=>Is.get(e,()=>lt(Cs,{endpointParams:e,logger:o.logger}));mt.aws=ut;const _s=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??B,base64Encoder:(e==null?void 0:e.base64Encoder)??Ee,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Ds,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Es,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4"),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ts}],logger:(e==null?void 0:e.logger)??new ht,protocol:(e==null?void 0:e.protocol)??new ys({defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15"}),serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??pt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Zt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Q}),Ns=e=>{const o=ft(e),s=()=>o().then(At),t=_s(e);return{...t,...e,runtime:"browser",defaultsMode:o,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Tt,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(r=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??bt({serviceId:t.serviceId,clientVersion:As.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??Pt,region:(e==null?void 0:e.region)??Et("Region is missing"),requestHandler:es.create((e==null?void 0:e.requestHandler)??s),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await s()).retryMode||gt),sha256:(e==null?void 0:e.sha256)??St,streamCollector:(e==null?void 0:e.streamCollector)??Yt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(xt)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(wt))}},ks=e=>{const o=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,t=e.credentials;return{setHttpAuthScheme(r){const n=o.findIndex(i=>i.schemeId===r.schemeId);n===-1?o.push(r):o.splice(n,1,r)},httpAuthSchemes(){return o},setHttpAuthSchemeProvider(r){s=r},httpAuthSchemeProvider(){return s},setCredentials(r){t=r},credentials(){return t}}},vs=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),$s=(e,o)=>{const s=Object.assign(Rt(e),Ct(e),It(e),ks(e));return o.forEach(t=>t.configure(s)),Object.assign(e,Dt(s),_t(s),Nt(s),vs(s))};class ve extends kt{constructor(...[s]){const t=Ns(s||{});super(t);S(this,"config");this.initConfig=t;const r=Ts(t),n=vt(r),i=$t(n),a=Mt(i),d=Ot(a),u=Ft(d),c=bs(u),m=$s(c,(s==null?void 0:s.extensions)||[]);this.config=m,this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(zt(this.config)),this.middlewareStack.use(Lt(this.config)),this.middlewareStack.use(jt(this.config)),this.middlewareStack.use(Wt(this.config)),this.middlewareStack.use(Kt(this.config)),this.middlewareStack.use(Ht(this.config)),this.middlewareStack.use(Vt(this.config,{httpAuthSchemeParametersProvider:fs,identityProviderConfigProvider:async p=>new Bt({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(Qt(this.config))}destroy(){super.destroy()}}let N=class $e extends qt{constructor(o){super(o),Object.setPrototypeOf(this,$e.prototype)}},Ms=class Me extends N{constructor(s){super({name:"ExpiredTokenException",$fault:"client",...s});S(this,"name","ExpiredTokenException");S(this,"$fault","client");Object.setPrototypeOf(this,Me.prototype)}},Fs=class Fe extends N{constructor(s){super({name:"MalformedPolicyDocumentException",$fault:"client",...s});S(this,"name","MalformedPolicyDocumentException");S(this,"$fault","client");Object.setPrototypeOf(this,Fe.prototype)}},Os=class Oe extends N{constructor(s){super({name:"PackedPolicyTooLargeException",$fault:"client",...s});S(this,"name","PackedPolicyTooLargeException");S(this,"$fault","client");Object.setPrototypeOf(this,Oe.prototype)}},Us=class Ue extends N{constructor(s){super({name:"RegionDisabledException",$fault:"client",...s});S(this,"name","RegionDisabledException");S(this,"$fault","client");Object.setPrototypeOf(this,Ue.prototype)}},zs=class ze extends N{constructor(s){super({name:"IDPRejectedClaimException",$fault:"client",...s});S(this,"name","IDPRejectedClaimException");S(this,"$fault","client");Object.setPrototypeOf(this,ze.prototype)}},Ls=class Le extends N{constructor(s){super({name:"InvalidIdentityTokenException",$fault:"client",...s});S(this,"name","InvalidIdentityTokenException");S(this,"$fault","client");Object.setPrototypeOf(this,Le.prototype)}},js=class je extends N{constructor(s){super({name:"IDPCommunicationErrorException",$fault:"client",...s});S(this,"name","IDPCommunicationErrorException");S(this,"$fault","client");Object.setPrototypeOf(this,je.prototype)}};const Ws="Arn",Ks="AccessKeyId",Hs="AssumeRole",Vs="AssumedRoleId",Bs="AssumeRoleRequest",Qs="AssumeRoleResponse",Z="AssumedRoleUser",qs="AssumeRoleWithWebIdentity",Gs="AssumeRoleWithWebIdentityRequest",Js="AssumeRoleWithWebIdentityResponse",Xs="Audience",Y="Credentials",Zs="ContextAssertion",We="DurationSeconds",Ys="Expiration",er="ExternalId",tr="ExpiredTokenException",sr="IDPCommunicationErrorException",rr="IDPRejectedClaimException",nr="InvalidIdentityTokenException",or="Key",ir="MalformedPolicyDocumentException",Ke="Policy",He="PolicyArns",ar="ProviderArn",cr="ProvidedContexts",dr="ProvidedContextsListType",lr="ProvidedContext",ur="PolicyDescriptorType",mr="ProviderId",Ve="PackedPolicySize",pr="PackedPolicyTooLargeException",hr="Provider",Be="RoleArn",yr="RegionDisabledException",Qe="RoleSessionName",fr="SecretAccessKey",Sr="SubjectFromWebIdentityToken",ee="SourceIdentity",gr="SerialNumber",Er="SessionToken",Pr="Tags",br="TokenCode",Tr="TransitiveTagKeys",wr="Tag",xr="Value",Ar="WebIdentityToken",Rr="arn",Cr="accessKeySecretType",$="awsQueryError",M="client",Ir="clientTokenType",F="error",O="httpError",U="message",Dr="policyDescriptorListType",qe="smithy.ts.sdk.synthetic.com.amazonaws.sts",_r="tagListType",f="com.amazonaws.sts";var Nr=[0,f,Cr,8,0],kr=[0,f,Ir,8,0],Ge=[3,f,Z,0,[Vs,Ws],[0,0]],vr=[3,f,Bs,0,[Be,Qe,He,Ke,We,Pr,Tr,er,gr,br,ee,cr],[0,0,()=>Xe,0,1,()=>Gr,64,0,0,0,0,()=>qr]],$r=[3,f,Qs,0,[Y,Z,Ve,ee],[[()=>Je,0],()=>Ge,1,0]],Mr=[3,f,Gs,0,[Be,Qe,Ar,mr,He,Ke,We],[0,0,[()=>kr,0],0,()=>Xe,0,1]],Fr=[3,f,Js,0,[Y,Sr,Z,Ve,hr,Xs,ee],[[()=>Je,0],0,()=>Ge,1,0,0,0]],Je=[3,f,Y,0,[Ks,fr,Er,Ys],[0,[()=>Nr,0],0,4]],Or=[-3,f,tr,{[F]:M,[O]:400,[$]:["ExpiredTokenException",400]},[U],[0]];I.for(f).registerError(Or,Ms);var Ur=[-3,f,sr,{[F]:M,[O]:400,[$]:["IDPCommunicationError",400]},[U],[0]];I.for(f).registerError(Ur,js);var zr=[-3,f,rr,{[F]:M,[O]:403,[$]:["IDPRejectedClaim",403]},[U],[0]];I.for(f).registerError(zr,zs);var Lr=[-3,f,nr,{[F]:M,[O]:400,[$]:["InvalidIdentityToken",400]},[U],[0]];I.for(f).registerError(Lr,Ls);var jr=[-3,f,ir,{[F]:M,[O]:400,[$]:["MalformedPolicyDocument",400]},[U],[0]];I.for(f).registerError(jr,Fs);var Wr=[-3,f,pr,{[F]:M,[O]:400,[$]:["PackedPolicyTooLarge",400]},[U],[0]];I.for(f).registerError(Wr,Os);var Kr=[3,f,ur,0,[Rr],[0]],Hr=[3,f,lr,0,[ar,Zs],[0,0]],Vr=[-3,f,yr,{[F]:M,[O]:403,[$]:["RegionDisabledException",403]},[U],[0]];I.for(f).registerError(Vr,Us);var Br=[3,f,wr,0,[or,xr],[0,0]],Qr=[-3,qe,"STSServiceException",0,[],[]];I.for(qe).registerError(Qr,N);var Xe=[1,f,Dr,0,()=>Kr],qr=[1,f,dr,0,()=>Hr],Gr=[1,f,_r,0,()=>Br],Jr=[9,f,Hs,0,()=>vr,()=>$r],sn=[9,f,qs,0,()=>Mr,()=>Fr];class Xr extends Gt.classBuilder().ep(ws).m(function(o,s,t,r){return[Jt(t,o.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(Jr).build(){}const rn=Object.freeze(Object.defineProperty({__proto__:null,AssumeRoleCommand:Xr,STSClient:ve},Symbol.toStringTag,{value:"Module"}));export{sn as A,Ms as E,zs as I,Fs as M,Os as P,Us as R,ve as S,N as a,Xr as b,ws as c,Ls as d,js as e,rn as l};
