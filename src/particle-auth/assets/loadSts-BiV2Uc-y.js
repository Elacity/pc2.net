var gt=Object.defineProperty;var St=(e,r,s)=>r in e?gt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var y=(e,r,s)=>St(e,typeof r!="symbol"?r+"":r,s);import{X as yt,N,k as Me,L as wt,h as Ue,i as Et,b as bt,c as Fe,S as he,m as At,d as Tt,e as Ct,T as R,f as fe,v as Pt,R as Rt,l as _t,j as ge,n as Le,o as It,E as kt,r as xt,p as Dt,q as vt,s as Nt,t as Ot,D as $t,u as Mt,w as Ut,x as Ft,y as Lt,z as zt,A as jt,B as Ht,F as Wt,G as Vt,H as Bt,a as Kt,I as Gt,J as qt,K as Qt,M as Xt,O as Jt,P as Yt,Q as Zt,V as es,U as ts,W as ss,C as rs,g as ns}from"./resolveDefaultsModeConfig-CdpMZOR6.js";import{d as X,t as J,H as Y,n as j,c as is,a as ze,i as os,f as as,s as cs,F as us}from"./date-utils-Raxu1naD.js";import{N as ds}from"./noAuth-BRTlyyWt.js";function Se(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}const Z="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",ee="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",te="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",je="(\\d?\\d)",He="(\\d{4})",ls=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),ps=new RegExp(`^${Z}, ${je} ${ee} ${He} ${te} GMT$`),ms=new RegExp(`^${Z}, ${je}-${ee}-(\\d\\d) ${te} GMT$`),hs=new RegExp(`^${Z} ${ee} ( [1-9]|\\d\\d) ${te} ${He}$`),fs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gs=e=>{if(e==null)return;let r=NaN;if(typeof e=="number")r=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");r=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(r=e.value);if(isNaN(r)||Math.abs(r)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(r*1e3))},Ss=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");const r=ls.exec(e);if(!r)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);const[,s,t,n,i,o,a,,c,u]=r;D(t,1,12),D(n,1,31),D(i,0,23),D(o,0,59),D(a,0,60);const d=new Date(Date.UTC(Number(s),Number(t)-1,Number(n),Number(i),Number(o),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(d.setUTCFullYear(Number(s)),u.toUpperCase()!="Z"){const[,l,p,m]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],S=l==="-"?1:-1;d.setTime(d.getTime()+S*(Number(p)*60*60*1e3+Number(m)*60*1e3))}return d},ys=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let r,s,t,n,i,o,a,c;if((c=ps.exec(e))?[,r,s,t,n,i,o,a]=c:(c=ms.exec(e))?([,r,s,t,n,i,o,a]=c,t=(Number(t)+1900).toString()):(c=hs.exec(e))&&([,s,r,n,i,o,a,t]=c),t&&o){const u=Date.UTC(Number(t),fs.indexOf(s),Number(r),Number(n),Number(i),Number(o),a?Math.round(parseFloat(`0.${a}`)*1e3):0);D(r,1,31),D(n,0,23),D(i,0,59),D(o,0,60);const d=new Date(u);return d.setUTCFullYear(Number(t)),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)};function D(e,r,s){const t=Number(e);if(t<r||t>s)throw new Error(`Value ${t} out of range [${r}, ${s}]`)}const ws=e=>{const r=e.length,s=[];let t=!1,n,i=0;for(let o=0;o<r;++o){const a=e[o];switch(a){case'"':n!=="\\"&&(t=!t);break;case",":t||(s.push(e.slice(i,o)),i=o+1);break}n=a}return s.push(e.slice(i)),s.map(o=>{o=o.trim();const a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})};class Es extends yt{constructor(s){super();y(this,"settings");this.settings=s}read(s,t){var i;const n=N.of(s);if(n.isListSchema())return ws(t).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(((i=this.serdeContext)==null?void 0:i.base64Decoder)??X)(t);if(n.isTimestampSchema())switch(Me(n,this.settings)){case 5:return Ss(t);case 6:return ys(t);case 7:return gs(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(n.isStringSchema()){const o=n.getMergedTraits().mediaType;let a=t;if(o)return n.getMergedTraits().httpHeader&&(a=this.base64ToUtf8(a)),(o==="application/json"||o.endsWith("+json"))&&(a=wt.from(a)),a}return n.isNumericSchema()?Number(t):n.isBigIntegerSchema()?BigInt(t):n.isBigDecimalSchema()?new Ue(t,"bigDecimal"):n.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(s){var t,n;return(((t=this.serdeContext)==null?void 0:t.utf8Encoder)??J)((((n=this.serdeContext)==null?void 0:n.base64Decoder)??X)(s))}}const We=e=>{const r="#text";for(const s in e)e.hasOwnProperty(s)&&e[s][r]!==void 0?e[s]=e[s][r]:typeof e[s]=="object"&&e[s]!==null&&(e[s]=We(e[s]));return e};const bs=e=>r=>async s=>{if(!Y.isInstance(s.request))return r(s);const{request:t}=s,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!t.headers[":authority"])delete t.headers.host,t.headers[":authority"]=t.hostname+(t.port?":"+t.port:"");else if(!t.headers.host){let i=t.hostname;t.port!=null&&(i+=`:${t.port}`),t.headers.host=i}return r(s)},As={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ts=e=>({applyToStack:r=>{r.add(bs(e),As)}}),Cs=()=>(e,r)=>async s=>{var t,n;try{const i=await e(s),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=r,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:l}=u,p=d??r.inputFilterSensitiveLog,m=l??r.outputFilterSensitiveLog,{$metadata:S,...b}=i.output;return(t=c==null?void 0:c.info)==null||t.call(c,{clientName:o,commandName:a,input:p(s.input),output:m(b),metadata:S}),i}catch(i){const{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=r,{overrideInputFilterSensitiveLog:d}=u,l=d??r.inputFilterSensitiveLog;throw(n=c==null?void 0:c.error)==null||n.call(c,{clientName:o,commandName:a,input:l(s.input),error:i,metadata:i.$metadata}),i}},Ps={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Rs=e=>({applyToStack:r=>{r.add(Cs(),Ps)}}),_s={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Is=()=>e=>async r=>e(r),ks=e=>({applyToStack:r=>{r.add(Is(),_s)}}),xs=void 0;function Ds(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function vs(e){const r=j(e.userAgentAppId??xs),{customUserAgent:s}=e;return Object.assign(e,{customUserAgent:typeof s=="string"?[[s]]:s,userAgentAppId:async()=>{var n,i;const t=await r();if(!Ds(t)){const o=((i=(n=e.logger)==null?void 0:n.constructor)==null?void 0:i.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof t!="string"?o==null||o.warn("userAgentAppId must be a string or undefined."):t.length>50&&(o==null||o.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return t}})}const Ve=(e,r=!1)=>{if(r){for(const s of e.split("."))if(!Ve(s))return!1;return!0}return!(!Et(e)||e.length<3||e.length>63||e!==e.toLowerCase()||bt(e))},ye=":",Ns="/",Os=e=>{const r=e.split(ye);if(r.length<6)return null;const[s,t,n,i,o,...a]=r;if(s!=="arn"||t===""||n===""||a.join(ye)==="")return null;const c=a.map(u=>u.split(Ns)).flat();return{partition:t,service:n,region:i,accountId:o,resourceId:c}},$s=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Ms={partitions:$s};let Us=Ms;const Fs=e=>{const{partitions:r}=Us;for(const t of r){const{regions:n,outputs:i}=t;for(const[o,a]of Object.entries(n))if(o===e)return{...i,...a}}for(const t of r){const{regionRegex:n,outputs:i}=t;if(new RegExp(n).test(e))return{...i}}const s=r.find(t=>t.id==="aws");if(!s)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...s.outputs}},Be={isVirtualHostableS3Bucket:Ve,parseArn:Os,partition:Fs};Fe.aws=Be;function Ls(e,r,s){return e.$source||(e.$source={}),e.$source[r]=s,e}function I(e,r,s){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[r]=s}const we=e=>{var r,s;return is.isInstance(e)?((r=e.headers)==null?void 0:r.date)??((s=e.headers)==null?void 0:s.Date):void 0},Ke=e=>new Date(Date.now()+e),zs=(e,r)=>Math.abs(Ke(r).getTime()-e)>=3e5,Ee=(e,r)=>{const s=Date.parse(e);return zs(s,r)?s-Date.now():r},H=(e,r)=>{if(!r)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return r},js=async e=>{var u,d,l;const r=H("context",e.context),s=H("config",e.config),t=(l=(d=(u=r.endpointV2)==null?void 0:u.properties)==null?void 0:d.authSchemes)==null?void 0:l[0],i=await H("signer",s.signer)(t),o=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,c=e==null?void 0:e.signingName;return{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}};class Hs{async sign(r,s,t){var l;if(!Y.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const n=await js(t),{config:i,signer:o}=n;let{signingRegion:a,signingName:c}=n;const u=t.context;if(((l=u==null?void 0:u.authSchemes)==null?void 0:l.length)??!1){const[p,m]=u.authSchemes;(p==null?void 0:p.name)==="sigv4a"&&(m==null?void 0:m.name)==="sigv4"&&(a=(m==null?void 0:m.signingRegion)??a,c=(m==null?void 0:m.signingName)??c)}return await o.sign(r,{signingDate:Ke(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(r){return s=>{const t=s.ServerTime??we(s.$response);if(t){const n=H("config",r.config),i=n.systemClockOffset;n.systemClockOffset=Ee(t,n.systemClockOffset),n.systemClockOffset!==i&&s.$metadata&&(s.$metadata.clockSkewCorrected=!0)}throw s}}successHandler(r,s){const t=we(r);if(t){const n=H("config",s.config);n.systemClockOffset=Ee(t,n.systemClockOffset)}}}const Ws=e=>{let r=e.credentials,s=!!e.credentials,t;Object.defineProperty(e,"credentials",{set(u){u&&u!==r&&u!==t&&(s=!0),r=u;const d=Vs(e,{credentials:r,credentialDefaultProvider:e.credentialDefaultProvider}),l=Bs(e,d);if(s&&!l.attributed){const p=typeof r=="object"&&r!==null;t=async m=>{const b=await l(m);return p&&(!b.$source||Object.keys(b.$source).length===0)?Ls(b,"CREDENTIALS_CODE","e"):b},t.memoized=l.memoized,t.configBound=l.configBound,t.attributed=!0}else t=l},get(){return t},enumerable:!0,configurable:!0}),e.credentials=r;const{signingEscapePath:n=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e;let a;return e.signer?a=j(e.signer):e.regionInfoProvider?a=()=>j(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,d])=>{const{signingRegion:l,signingService:p}=u;e.signingRegion=e.signingRegion||l||d,e.signingName=e.signingName||p||e.serviceId;const m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n},S=e.signerConstructor||he;return new S(m)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await j(e.region)(),properties:{}},u);const d=u.signingRegion,l=u.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||l||e.serviceId;const p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n},m=e.signerConstructor||he;return new m(p)},Object.assign(e,{systemClockOffset:i,signingEscapePath:n,signer:a})};function Vs(e,{credentials:r,credentialDefaultProvider:s}){let t;return r?r!=null&&r.memoized?t=r:t=At(r,Ct,Tt):s?t=j(s(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},t.memoized=!0,t}function Bs(e,r){if(r.configBound)return r;const s=async t=>r({...t,callerClientConfig:e});return s.memoized=r.memoized,s.configBound=!0,s}class Ks{constructor(r=!1){y(this,"queryCompat");this.queryCompat=r}resolveRestContentType(r,s){const t=s.getMemberSchemas(),n=Object.values(t).find(i=>!!i.getMergedTraits().httpPayload);if(n){const i=n.getMergedTraits().mediaType;return i||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":r)}else if(!s.isUnitSchema()&&Object.values(t).find(o=>{const{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:d,httpPrefixHeaders:l}=o.getMergedTraits();return!a&&!c&&!u&&!d&&l===void 0}))return r}async getErrorSchemaOrThrowBaseException(r,s,t,n,i,o){let a=s,c=r;r.includes("#")&&([a,c]=r.split("#"));const u={$metadata:i,$fault:t.statusCode<500?"client":"server"},d=R.for(a);try{return{errorSchema:(o==null?void 0:o(d,c))??d.getSchema(r),errorMetadata:u}}catch{n.message=n.message??n.Message??"UnknownError";const p=R.for("smithy.ts.sdk.synthetic."+a),m=p.getBaseException();if(m){const S=p.getErrorCtor(m)??Error;throw this.decorateServiceException(Object.assign(new S({name:c}),u),n)}throw this.decorateServiceException(Object.assign(new Error(c),u),n)}}decorateServiceException(r,s={}){if(this.queryCompat){const t=r.Message??s.Message,n=fe(r,s);t&&(n.message=t),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??t};const i=n.$metadata.requestId;return i&&(n.RequestId=i),n}return fe(r,s)}setQueryCompatError(r,s){var n;const t=(n=s.headers)==null?void 0:n["x-amzn-query-error"];if(r!==void 0&&t!=null){const[i,o]=t.split(";"),a=Object.entries(r),c={Code:i,Type:o};Object.assign(r,c);for(const[u,d]of a)c[u==="message"?"Message":u]=d;delete c.__type,r.Error=c}}queryCompatOutput(r,s){r.Error&&(s.Error=r.Error),r.Type&&(s.Type=r.Type),r.Code&&(s.Code=r.Code)}findQueryCompatibleError(r,s){try{return r.getSchema(s)}catch{return r.find(n=>{var i;return((i=N.of(n).getMergedTraits().awsQueryError)==null?void 0:i[0])===s})}}}class Ge{constructor(){y(this,"serdeContext")}setSerdeContext(r){this.serdeContext=r}}function*Gs(e,r){if(e.isUnitSchema())return;const s=e.getSchema();for(let t=0;t<s[4].length;++t){const n=s[4][t],i=s[5][t],o=new N([i,0],n);!(n in r)&&!o.isIdempotencyToken()||(yield[n,o])}}class qs{constructor(r,s){y(this,"from");y(this,"to");y(this,"keys");this.from=r,this.to=s,this.keys=new Set(Object.keys(this.from).filter(t=>t!=="__type"))}mark(r){this.keys.delete(r)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){const r=this.keys.values().next().value,s=this.from[r];this.to.$unknown=[r,s]}}}let B;function Qs(e){B||(B=new DOMParser);const r=B.parseFromString(e,"application/xml");if(r.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const s=t=>{var n;if(t.nodeType===Node.TEXT_NODE&&(n=t.textContent)!=null&&n.trim())return t.textContent;if(t.nodeType===Node.ELEMENT_NODE){const i=t;if(i.attributes.length===0&&i.childNodes.length===0)return"";const o={},a=Array.from(i.attributes);for(const u of a)o[`${u.name}`]=u.value;const c=Array.from(i.childNodes);for(const u of c){const d=s(u);if(d!=null){const l=u.nodeName;if(c.length===1&&a.length===0&&l==="#text")return d;o[l]?Array.isArray(o[l])?o[l].push(d):o[l]=[o[l],d]:o[l]=d}else if(c.length===1&&a.length===0)return i.textContent}return o}return null};return{[r.documentElement.nodeName]:s(r.documentElement)}}class Xs extends Ge{constructor(s){super();y(this,"settings");y(this,"stringDeserializer");this.settings=s,this.stringDeserializer=new Es(s)}setSerdeContext(s){this.serdeContext=s,this.stringDeserializer.setSerdeContext(s)}read(s,t,n){var d;const i=N.of(s),o=i.getMemberSchemas();if(i.isStructSchema()&&i.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){const l={},p=Object.keys(o)[0];return o[p].isBlobSchema()?l[p]=t:l[p]=this.read(o[p],t),l}const c=(((d=this.serdeContext)==null?void 0:d.utf8Encoder)??J)(t),u=this.parseXml(c);return this.readSchema(s,n?u[n]:u)}readSchema(s,t){const n=N.of(s);if(n.isUnitSchema())return;const i=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(t))return this.readSchema(n,[t]);if(t==null)return t;if(typeof t=="object"){const o=!!i.sparse,a=!!i.xmlFlattened;if(n.isListSchema()){const u=n.getValueSchema(),d=[],l=u.getMergedTraits().xmlName??"member",p=a?t:(t[0]??t)[l],m=Array.isArray(p)?p:[p];for(const S of m)(S!=null||o)&&d.push(this.readSchema(u,S));return d}const c={};if(n.isMapSchema()){const u=n.getKeySchema(),d=n.getValueSchema();let l;a?l=Array.isArray(t)?t:[t]:l=Array.isArray(t.entry)?t.entry:[t.entry];const p=u.getMergedTraits().xmlName??"key",m=d.getMergedTraits().xmlName??"value";for(const S of l){const b=S[p],_=S[m];(_!=null||o)&&(c[b]=this.readSchema(d,_))}return c}if(n.isStructSchema()){const u=n.isUnionSchema();let d;u&&(d=new qs(t,c));for(const[l,p]of n.structIterator()){const m=p.getMergedTraits(),S=m.httpPayload?m.xmlName??p.getName():p.getMemberTraits().xmlName??l;u&&d.mark(S),t[S]!=null&&(c[l]=this.readSchema(p,t[S]))}return u&&d.writeUnknown(),c}if(n.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,t)}parseXml(s){if(s.length){let t;try{t=Qs(s)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:s}),a}const n="#text",i=Object.keys(t)[0],o=t[i];return o[n]&&(o[i]=o[n],delete o[n]),We(o)}return{}}}class Js extends Ge{constructor(s){super();y(this,"settings");y(this,"buffer");this.settings=s}write(s,t,n=""){var o;this.buffer===void 0&&(this.buffer="");const i=N.of(s);if(n&&!n.endsWith(".")&&(n+="."),i.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((((o=this.serdeContext)==null?void 0:o.base64Encoder)??ze)(t)));else if(i.isBooleanSchema()||i.isNumericSchema()||i.isStringSchema())t!=null?(this.writeKey(n),this.writeValue(String(t))):i.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Pt()));else if(i.isBigIntegerSchema())t!=null&&(this.writeKey(n),this.writeValue(String(t)));else if(i.isBigDecimalSchema())t!=null&&(this.writeKey(n),this.writeValue(t instanceof Ue?t.string:String(t)));else if(i.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(n),Me(i,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(os(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else if(i.isDocumentSchema())Array.isArray(t)?this.write(79,t,n):t instanceof Date?this.write(4,t,n):t instanceof Uint8Array?this.write(21,t,n):t&&typeof t=="object"?this.write(143,t,n):(this.writeKey(n),this.writeValue(String(t)));else if(i.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{const a=i.getValueSchema(),c=this.settings.flattenLists||i.getMergedTraits().xmlFlattened;let u=1;for(const d of t){if(d==null)continue;const l=this.getKey("member",a.getMergedTraits().xmlName),p=c?`${n}${u}`:`${n}${l}.${u}`;this.write(a,d,p),++u}}}else if(i.isMapSchema()){if(t&&typeof t=="object"){const a=i.getKeySchema(),c=i.getValueSchema(),u=i.getMergedTraits().xmlFlattened;let d=1;for(const[l,p]of Object.entries(t)){if(p==null)continue;const m=this.getKey("key",a.getMergedTraits().xmlName),S=u?`${n}${d}.${m}`:`${n}entry.${d}.${m}`,b=this.getKey("value",c.getMergedTraits().xmlName),_=u?`${n}${d}.${b}`:`${n}entry.${d}.${b}`;this.write(a,l,S),this.write(c,p,_),++d}}}else if(i.isStructSchema()){if(t&&typeof t=="object"){let a=!1;for(const[c,u]of Gs(i,t)){if(t[c]==null&&!u.isIdempotencyToken())continue;const d=this.getKey(c,u.getMergedTraits().xmlName),l=`${n}${d}`;this.write(u,t[c],l),a=!0}if(!a&&i.isUnionSchema()){const{$unknown:c}=t;if(Array.isArray(c)){const[u,d]=c,l=`${n}${u}`;this.write(15,d,l)}}}}else if(!i.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${i.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const s=this.buffer;return delete this.buffer,s}getKey(s,t){const n=t??s;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(s){s.endsWith(".")&&(s=s.slice(0,s.length-1)),this.buffer+=`&${Se(s)}=`}writeValue(s){this.buffer+=Se(s)}}class Ys extends Rt{constructor(s){super({defaultNamespace:s.defaultNamespace});y(this,"options");y(this,"serializer");y(this,"deserializer");y(this,"mixin",new Ks);this.options=s;const t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:s.xmlNamespace,serviceNamespace:s.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Js(t),this.deserializer=new Xs(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(s){this.serializer.setSerdeContext(s),this.deserializer.setSerdeContext(s)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(s,t,n){const i=await super.serializeRequest(s,t,n);i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":"application/x-www-form-urlencoded"}),(_t(s.input)==="unit"||!i.body)&&(i.body="");const o=s.name.split("#")[1]??s.name;return i.body=`Action=${o}&Version=${this.options.version}`+i.body,i.body.endsWith("&")&&(i.body=i.body.slice(-1)),i}async deserializeResponse(s,t,n){const i=this.deserializer,o=N.of(s.output),a={};if(n.statusCode>=300){const p=await ge(n.body,t);p.byteLength>0&&Object.assign(a,await i.read(15,p)),await this.handleError(s,t,n,a,this.deserializeMetadata(n))}for(const p in n.headers){const m=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=m}const c=s.name.split("#")[1]??s.name,u=o.isStructSchema()&&this.useNestedResult()?c+"Result":void 0,d=await ge(n.body,t);return d.byteLength>0&&Object.assign(a,await i.read(o,d,u)),{$metadata:this.deserializeMetadata(n),...a}}useNestedResult(){return!0}async handleError(s,t,n,i,o){const a=this.loadQueryErrorCode(n,i)??"Unknown",c=this.loadQueryError(i),u=this.loadQueryErrorMessage(i);c.message=u,c.Error={Type:c.Type,Code:c.Code,Message:u};const{errorSchema:d,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,c,o,this.mixin.findQueryCompatibleError),p=N.of(d),m=R.for(d[1]).getErrorCtor(d)??Error,S=new m(u),b={Type:c.Error.Type,Code:c.Error.Code,Error:c.Error};for(const[_,W]of p.structIterator()){const me=W.getMergedTraits().xmlName??_,ft=c[me]??i[me];b[_]=this.deserializer.readSchema(W,ft)}throw this.mixin.decorateServiceException(Object.assign(S,l,{$fault:p.getMergedTraits().error,message:u},b),i)}loadQueryErrorCode(s,t){var i,o,a,c;const n=(c=((o=(i=t.Errors)==null?void 0:i[0])==null?void 0:o.Error)??((a=t.Errors)==null?void 0:a.Error)??t.Error)==null?void 0:c.Code;if(n!==void 0)return n;if(s.statusCode==404)return"NotFound"}loadQueryError(s){var t,n,i;return((n=(t=s.Errors)==null?void 0:t[0])==null?void 0:n.Error)??((i=s.Errors)==null?void 0:i.Error)??s.Error}loadQueryErrorMessage(s){const t=this.loadQueryError(s);return(t==null?void 0:t.message)??(t==null?void 0:t.Message)??s.message??s.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}const Zs=/\d{12}\.ddb/;async function er(e,r,s){var i,o,a,c,u,d,l;const t=s.request;if(((i=t==null?void 0:t.headers)==null?void 0:i["smithy-protocol"])==="rpc-v2-cbor"&&I(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){const p=await r.retryStrategy();typeof p.acquireInitialRetryToken=="function"?(a=(o=p.constructor)==null?void 0:o.name)!=null&&a.includes("Adaptive")?I(e,"RETRY_MODE_ADAPTIVE","F"):I(e,"RETRY_MODE_STANDARD","E"):I(e,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){const p=e.endpointV2;switch(String((c=p==null?void 0:p.url)==null?void 0:c.hostname).match(Zs)&&I(e,"ACCOUNT_ID_ENDPOINT","O"),await((u=r.accountIdEndpointMode)==null?void 0:u.call(r))){case"disabled":I(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":I(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":I(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const n=(l=(d=e.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:l.identity;if(n!=null&&n.$source){const p=n;p.accountId&&I(e,"RESOLVED_ACCOUNT_ID","T");for(const[m,S]of Object.entries(p.$source??{}))I(e,m,S)}}const be="user-agent",K="x-amz-user-agent",Ae=" ",G="/",tr=/[^!$%&'*+\-.^_`|~\w]/g,sr=/[^!$%&'*+\-.^_`|~\w#]/g,Te="-",rr=1024;function nr(e){let r="";for(const s in e){const t=e[s];if(r.length+t.length+1<=rr){r.length?r+=","+t:r+=t;continue}break}return r}const ir=e=>(r,s)=>async t=>{var m,S,b,_;const{request:n}=t;if(!Y.isInstance(n))return r(t);const{headers:i}=n,o=((m=s==null?void 0:s.userAgent)==null?void 0:m.map(V))||[],a=(await e.defaultUserAgentProvider()).map(V);await er(s,e,t);const c=s;a.push(`m/${nr(Object.assign({},(S=s.__smithy_context)==null?void 0:S.features,(b=c.__aws_sdk_context)==null?void 0:b.features))}`);const u=((_=e==null?void 0:e.customUserAgent)==null?void 0:_.map(V))||[],d=await e.userAgentAppId();d&&a.push(V(["app",`${d}`]));const l=[].concat([...a,...o,...u]).join(Ae),p=[...a.filter(W=>W.startsWith("aws-sdk-")),...u].join(Ae);return e.runtime!=="browser"?(p&&(i[K]=i[K]?`${i[be]} ${p}`:p),i[be]=l):i[K]=l,r({...t,request:n})},V=e=>{var o;const r=e[0].split(G).map(a=>a.replace(tr,Te)).join(G),s=(o=e[1])==null?void 0:o.replace(sr,Te),t=r.indexOf(G),n=r.substring(0,t);let i=r.substring(t+1);return n==="api"&&(i=i.toLowerCase()),[n,i,s].filter(a=>a&&a.length>0).reduce((a,c,u)=>{switch(u){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},or={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},ar=e=>({applyToStack:r=>{r.add(ir(e),or)}}),cr=async(e,r,s)=>({operation:It(r).operation,region:await Le(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ur(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(r,s)=>({signingProperties:{config:r,context:s}})}}function dr(e){return{schemeId:"smithy.api#noAuth"}}const lr=e=>{const r=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{r.push(dr());break}default:r.push(ur(e))}return r},pr=e=>Object.assign(e,{stsClientCtor:nt}),mr=e=>{const r=pr(e),s=Ws(r);return Object.assign(s,{authSchemePreference:Le(e.authSchemePreference??[])})},hr=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),fr={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},gr="3.971.0",Sr={version:gr},yr=({serviceId:e,clientVersion:r})=>async s=>{var m,S,b;const t=typeof window<"u"?window.navigator:void 0,n=(t==null?void 0:t.userAgent)??"",i=((m=t==null?void 0:t.userAgentData)==null?void 0:m.platform)??Ce.os(n)??"other",o=void 0,a=((S=t==null?void 0:t.userAgentData)==null?void 0:S.brands)??[],c=a[a.length-1],u=(c==null?void 0:c.brand)??Ce.browser(n)??"unknown",d=(c==null?void 0:c.version)??"unknown",l=[["aws-sdk-js",r],["ua","2.1"],[`os/${i}`,o],["lang/js"],["md/browser",`${u}_${d}`]];e&&l.push([`api/${e}`,r]);const p=await((b=s==null?void 0:s.userAgentAppId)==null?void 0:b.call(s));return p&&l.push([`app/${p}`]),l},Ce={os(e){if(/iPhone|iPad|iPod/.test(e))return"iOS";if(/Macintosh|Mac OS X/.test(e))return"macOS";if(/Windows NT/.test(e))return"Windows";if(/Android/.test(e))return"Android";if(/Linux/.test(e))return"Linux"},browser(e){if(/EdgiOS|EdgA|Edg\//.test(e))return"Microsoft Edge";if(/Firefox\//.test(e))return"Firefox";if(/Chrome\//.test(e))return"Chrome";if(/Safari\//.test(e))return"Safari"}},qe="required",h="type",f="fn",g="argv",O="ref",Pe=!1,q=!0,v="booleanEquals",A="stringEquals",Qe="sigv4",Xe="sts",Je="us-east-1",E="endpoint",Re="https://sts.{Region}.{PartitionResult#dnsSuffix}",k="tree",z="error",se="getAttr",_e={[qe]:!1,[h]:"string"},Q={[qe]:!0,default:!1,[h]:"boolean"},Ye={[O]:"Endpoint"},Ie={[f]:"isSet",[g]:[{[O]:"Region"}]},T={[O]:"Region"},ke={[f]:"aws.partition",[g]:[T],assign:"PartitionResult"},Ze={[O]:"UseFIPS"},et={[O]:"UseDualStack"},C={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Qe,signingName:Xe,signingRegion:Je}]},headers:{}},P={},xe={conditions:[{[f]:A,[g]:[T,"aws-global"]}],[E]:C,[h]:E},tt={[f]:v,[g]:[Ze,!0]},st={[f]:v,[g]:[et,!0]},De={[f]:se,[g]:[{[O]:"PartitionResult"},"supportsFIPS"]},rt={[O]:"PartitionResult"},ve={[f]:v,[g]:[!0,{[f]:se,[g]:[rt,"supportsDualStack"]}]},Ne=[{[f]:"isSet",[g]:[Ye]}],Oe=[tt],$e=[st],wr={parameters:{Region:_e,UseDualStack:Q,UseFIPS:Q,Endpoint:_e,UseGlobalEndpoint:Q},rules:[{conditions:[{[f]:v,[g]:[{[O]:"UseGlobalEndpoint"},q]},{[f]:"not",[g]:Ne},Ie,ke,{[f]:v,[g]:[Ze,Pe]},{[f]:v,[g]:[et,Pe]}],rules:[{conditions:[{[f]:A,[g]:[T,"ap-northeast-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"ap-south-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"ap-southeast-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"ap-southeast-2"]}],endpoint:C,[h]:E},xe,{conditions:[{[f]:A,[g]:[T,"ca-central-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"eu-central-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"eu-north-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"eu-west-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"eu-west-2"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"eu-west-3"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"sa-east-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,Je]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"us-east-2"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"us-west-1"]}],endpoint:C,[h]:E},{conditions:[{[f]:A,[g]:[T,"us-west-2"]}],endpoint:C,[h]:E},{endpoint:{url:Re,properties:{authSchemes:[{name:Qe,signingName:Xe,signingRegion:"{Region}"}]},headers:P},[h]:E}],[h]:k},{conditions:Ne,rules:[{conditions:Oe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[h]:z},{conditions:$e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[h]:z},{endpoint:{url:Ye,properties:P,headers:P},[h]:E}],[h]:k},{conditions:[Ie],rules:[{conditions:[ke],rules:[{conditions:[tt,st],rules:[{conditions:[{[f]:v,[g]:[q,De]},ve],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:P,headers:P},[h]:E}],[h]:k},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[h]:z}],[h]:k},{conditions:Oe,rules:[{conditions:[{[f]:v,[g]:[De,q]}],rules:[{conditions:[{[f]:A,[g]:[{[f]:se,[g]:[rt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:P,headers:P},[h]:E},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:P,headers:P},[h]:E}],[h]:k},{error:"FIPS is enabled but this partition does not support FIPS",[h]:z}],[h]:k},{conditions:$e,rules:[{conditions:[ve],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:P,headers:P},[h]:E}],[h]:k},{error:"DualStack is enabled but this partition does not support DualStack",[h]:z}],[h]:k},xe,{endpoint:{url:Re,properties:P,headers:P},[h]:E}],[h]:k}],[h]:k},{error:"Invalid Configuration: Missing Region",[h]:z}]},Er=wr,br=new kt({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Ar=(e,r={})=>br.get(e,()=>xt(Er,{endpointParams:e,logger:r.logger}));Fe.aws=Be;const Tr=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??X,base64Encoder:(e==null?void 0:e.base64Encoder)??ze,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Ar,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??lr,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new Hs},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ds}],logger:(e==null?void 0:e.logger)??new vt,protocol:(e==null?void 0:e.protocol)??Ys,protocolSettings:(e==null?void 0:e.protocolSettings)??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??Dt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??as,utf8Encoder:(e==null?void 0:e.utf8Encoder)??J}),Cr=e=>{const r=Nt(e),s=()=>r().then(jt),t=Tr(e);return{...t,...e,runtime:"browser",defaultsMode:r,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Ft,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(n=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??yr({serviceId:t.serviceId,clientVersion:Sr.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??Ut,region:(e==null?void 0:e.region)??Mt("Region is missing"),requestHandler:us.create((e==null?void 0:e.requestHandler)??s),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await s()).retryMode||$t),sha256:(e==null?void 0:e.sha256)??Ot,streamCollector:(e==null?void 0:e.streamCollector)??cs,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(zt)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Lt))}},Pr=e=>({setRegion(r){e.region=r},region(){return e.region}}),Rr=e=>({region:e.region()}),_r=e=>{const r=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,t=e.credentials;return{setHttpAuthScheme(n){const i=r.findIndex(o=>o.schemeId===n.schemeId);i===-1?r.push(n):r.splice(i,1,n)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(n){s=n},httpAuthSchemeProvider(){return s},setCredentials(n){t=n},credentials(){return t}}},Ir=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),kr=(e,r)=>{const s=Object.assign(Pr(e),Ht(e),Wt(e),_r(e));return r.forEach(t=>t.configure(s)),Object.assign(e,Rr(s),Vt(s),Bt(s),Ir(s))};class nt extends Kt{constructor(...[s]){const t=Cr(s||{});super(t);y(this,"config");this.initConfig=t;const n=hr(t),i=vs(n),o=Gt(i),a=qt(o),c=a,u=Qt(c),d=mr(u),l=kr(d,(s==null?void 0:s.extensions)||[]);this.config=l,this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(ar(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Yt(this.config)),this.middlewareStack.use(Ts(this.config)),this.middlewareStack.use(Rs(this.config)),this.middlewareStack.use(ks(this.config)),this.middlewareStack.use(Zt(this.config,{httpAuthSchemeParametersProvider:cr,identityProviderConfigProvider:async p=>new es({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(ts(this.config))}destroy(){super.destroy()}}class x extends ss{constructor(r){super(r),Object.setPrototypeOf(this,x.prototype)}}class re extends x{constructor(s){super({name:"ExpiredTokenException",$fault:"client",...s});y(this,"name","ExpiredTokenException");y(this,"$fault","client");Object.setPrototypeOf(this,re.prototype)}}class ne extends x{constructor(s){super({name:"MalformedPolicyDocumentException",$fault:"client",...s});y(this,"name","MalformedPolicyDocumentException");y(this,"$fault","client");Object.setPrototypeOf(this,ne.prototype)}}class ie extends x{constructor(s){super({name:"PackedPolicyTooLargeException",$fault:"client",...s});y(this,"name","PackedPolicyTooLargeException");y(this,"$fault","client");Object.setPrototypeOf(this,ie.prototype)}}class oe extends x{constructor(s){super({name:"RegionDisabledException",$fault:"client",...s});y(this,"name","RegionDisabledException");y(this,"$fault","client");Object.setPrototypeOf(this,oe.prototype)}}class ae extends x{constructor(s){super({name:"IDPRejectedClaimException",$fault:"client",...s});y(this,"name","IDPRejectedClaimException");y(this,"$fault","client");Object.setPrototypeOf(this,ae.prototype)}}class ce extends x{constructor(s){super({name:"InvalidIdentityTokenException",$fault:"client",...s});y(this,"name","InvalidIdentityTokenException");y(this,"$fault","client");Object.setPrototypeOf(this,ce.prototype)}}class ue extends x{constructor(s){super({name:"IDPCommunicationErrorException",$fault:"client",...s});y(this,"name","IDPCommunicationErrorException");y(this,"$fault","client");Object.setPrototypeOf(this,ue.prototype)}}const xr="Arn",Dr="AccessKeyId",vr="AssumeRole",Nr="AssumedRoleId",Or="AssumeRoleRequest",$r="AssumeRoleResponse",de="AssumedRoleUser",Mr="AssumeRoleWithWebIdentity",Ur="AssumeRoleWithWebIdentityRequest",Fr="AssumeRoleWithWebIdentityResponse",Lr="Audience",le="Credentials",zr="ContextAssertion",it="DurationSeconds",jr="Expiration",Hr="ExternalId",Wr="ExpiredTokenException",Vr="IDPCommunicationErrorException",Br="IDPRejectedClaimException",Kr="InvalidIdentityTokenException",Gr="Key",qr="MalformedPolicyDocumentException",ot="Policy",at="PolicyArns",Qr="ProviderArn",Xr="ProvidedContexts",Jr="ProvidedContextsListType",Yr="ProvidedContext",Zr="PolicyDescriptorType",en="ProviderId",ct="PackedPolicySize",tn="PackedPolicyTooLargeException",sn="Provider",ut="RoleArn",rn="RegionDisabledException",dt="RoleSessionName",nn="SecretAccessKey",on="SubjectFromWebIdentityToken",pe="SourceIdentity",an="SerialNumber",cn="SessionToken",un="Tags",dn="TokenCode",ln="TransitiveTagKeys",pn="Tag",mn="Value",hn="WebIdentityToken",fn="arn",gn="accessKeySecretType",$="awsQueryError",M="client",Sn="clientTokenType",U="error",F="httpError",L="message",yn="policyDescriptorListType",lt="smithy.ts.sdk.synthetic.com.amazonaws.sts",wn="tagListType",w="com.amazonaws.sts";var En=[0,w,gn,8,0],bn=[0,w,Sn,8,0],pt=[3,w,de,0,[Nr,xr],[0,0],2],An=[3,w,Or,0,[ut,dt,at,ot,it,un,ln,Hr,an,dn,pe,Xr],[0,0,()=>ht,0,1,()=>Fn,64,0,0,0,0,()=>Un],2],Tn=[3,w,$r,0,[le,de,ct,pe],[[()=>mt,0],()=>pt,1,0]],Cn=[3,w,Ur,0,[ut,dt,hn,en,at,ot,it],[0,0,[()=>bn,0],0,()=>ht,0,1],3],Pn=[3,w,Fr,0,[le,on,de,ct,sn,Lr,pe],[[()=>mt,0],0,()=>pt,1,0,0,0]],mt=[3,w,le,0,[Dr,nn,cn,jr],[0,[()=>En,0],0,4],4],Rn=[-3,w,Wr,{[$]:["ExpiredTokenException",400],[U]:M,[F]:400},[L],[0]];R.for(w).registerError(Rn,re);var _n=[-3,w,Vr,{[$]:["IDPCommunicationError",400],[U]:M,[F]:400},[L],[0]];R.for(w).registerError(_n,ue);var In=[-3,w,Br,{[$]:["IDPRejectedClaim",403],[U]:M,[F]:403},[L],[0]];R.for(w).registerError(In,ae);var kn=[-3,w,Kr,{[$]:["InvalidIdentityToken",400],[U]:M,[F]:400},[L],[0]];R.for(w).registerError(kn,ce);var xn=[-3,w,qr,{[$]:["MalformedPolicyDocument",400],[U]:M,[F]:400},[L],[0]];R.for(w).registerError(xn,ne);var Dn=[-3,w,tn,{[$]:["PackedPolicyTooLarge",400],[U]:M,[F]:400},[L],[0]];R.for(w).registerError(Dn,ie);var vn=[3,w,Zr,0,[fn],[0]],Nn=[3,w,Yr,0,[Qr,zr],[0,0]],On=[-3,w,rn,{[$]:["RegionDisabledException",403],[U]:M,[F]:403},[L],[0]];R.for(w).registerError(On,oe);var $n=[3,w,pn,0,[Gr,mn],[0,0],2],Mn=[-3,lt,"STSServiceException",0,[],[]];R.for(lt).registerError(Mn,x);var ht=[1,w,yn,0,()=>vn],Un=[1,w,Jr,0,()=>Nn],Fn=[1,w,wn,0,()=>$n],Ln=[9,w,vr,0,()=>An,()=>Tn],Bn=[9,w,Mr,0,()=>Cn,()=>Pn];class zn extends rs.classBuilder().ep(fr).m(function(r,s,t,n){return[ns(t,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(Ln).build(){}const Kn=Object.freeze(Object.defineProperty({__proto__:null,AssumeRoleCommand:zn,STSClient:nt},Symbol.toStringTag,{value:"Module"}));export{Bn as A,mt as C,Rn as E,_n as I,xn as M,Dn as P,On as R,nt as S,$n as T,x as a,zn as b,fr as c,pt as d,An as e,Tn as f,Cn as g,Pn as h,In as i,kn as j,vn as k,Nn as l,Mn as m,Ln as n,re as o,ne as p,ie as q,oe as r,Ls as s,ae as t,ce as u,ue as v,Kn as w};
